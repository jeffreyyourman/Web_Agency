!function(n){n.fn.kenburns=function(a){function t(){return(new Date).getTime()-v}function e(n,a,t,e,r){return{x:n+(t-n)*r,y:a+(e-a)*r}}function r(n,a,t){var r=e(n[0],n[1],a[0],a[1],t),i=e(n[2],n[3],a[2],a[3],t);return[r.x,r.y,i.x,i.y]}function i(n,a){var t=n[2]-n[0],e=n[3]-n[1],r=(n[2]+n[0])/2,i=(n[3]+n[1])/2,o=t*a,l=e*a;return[r-o/2,i-l/2,r+o/2,i+l/2]}function o(n,a,t,e){var r=t/e,i=a;if((o=a*r)>n)var o=n,i=n/r;var l=(n-o)/2,f=(a-i)/2;return[l,f,l+o,f+i]}function l(n,a){var t=y[n];if(!t.initialized){var e=new Image;t.image=e,t.loaded=!1,e.onload=function(){t.loaded=!0;var r=o(e.width,e.height,s,g),l=i(r,b),f=Math.floor(3*Math.random())-1,c=Math.floor(3*Math.random())-1;f/=2,c/=2;var u=l[0];l[0]+=u*f,l[2]+=u*f;var h=l[1];l[1]+=h*c,l[3]+=h*c,n%2?(t.r1=r,t.r2=l):(t.r1=l,t.r2=r),a&&a()},t.initialized=!0,e.src=t.path}return t}function f(n,a,t){if(!(a>1)){var e=l(n);if(e.loaded){var i=r(e.r1,e.r2,a),o=Math.min(1,t);o>0&&(d.save(),d.globalAlpha=Math.min(1,o),d.drawImage(e.image,i[0],i[1],i[2]-i[0],i[3]-i[1],0,0,s,g),d.restore())}}}function c(){d.save(),d.globalAlpha=1,d.fillStyle=w,d.fillRect(0,0,d.canvas.width,d.canvas.height),d.restore()}function u(){function n(n){return(n+y.length)%y.length}var e=t(),r=Math.floor(e/(p-_)),i=r*(p-_),o=e-i;if(o<_){var u=r-1,v=e-(i-p+_);e<_?c():f(n(u),v/p,1)}f(n(r),o/p,o/_),a.post_render_callback&&a.post_render_callback(h,d),l(n(r+1))}var h=n(this),d=this[0].getContext("2d"),v=null,s=h.width(),g=h.height(),m=a.images,p=a.display_time||7e3,_=Math.min(p/2,a.fade_time||1e3),M=1/(a.frames_per_second||30)*1e3,b=1/(a.zoom||2),w=a.background_color||"#000000",y=[];n(m).each(function(n,a){y.push({path:a,initialized:!1,loaded:!1})}),l(0,function(){l(1,function(){v=t(),setInterval(u,M)})})}}(jQuery);